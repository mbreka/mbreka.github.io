{"ast":null,"code":"import _toConsumableArray from\"/home/user/Desktop/Mislav_Breka_Midterm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/user/Desktop/Mislav_Breka_Midterm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/user/Desktop/Mislav_Breka_Midterm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useState,useContext}from'react';import CustomCard from'../../Components/CustomCard/CustomCard';import ItemsGrid from'../../Components/ItemsGrid/ItemsGrid';import{ProductContext}from'../../Context/ProductContext/ProductContext';import{UserContext}from'../../Context/UserContext/UserContext';import{Redirect}from'react-router-dom';import{makeStyles,useTheme}from'@material-ui/core/styles';import MobileStepper from'@material-ui/core/MobileStepper';import Paper from'@material-ui/core/Paper';import Typography from'@material-ui/core/Typography';import Button from'@material-ui/core/Button';import KeyboardArrowLeft from'@material-ui/icons/KeyboardArrowLeft';import KeyboardArrowRight from'@material-ui/icons/KeyboardArrowRight';import Grid from'@material-ui/core/Grid';import ImageSlider from'../../Components/ImageSlider/ImageSlider';import Container from'@material-ui/core/Container';import Breadcrumbs from'@material-ui/core/Breadcrumbs';import Main from'../../Components/Main/Main';import ShoppingCartIcon from'@material-ui/icons/ShoppingCart';import ShoppingBasketIcon from'@material-ui/icons/ShoppingBasket';import{ButtonGroup}from'reactstrap';import InfoTable from'../../Components/InfoTable/InfoTable';import Spacer from'../../Components/Spacer/Spacer';import{Link,withRouter,useLocation}from\"react-router-dom\";import{TextField,CssBaseline}from'@material-ui/core';import{SnackbarProvider,useSnackbar}from'notistack';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SimpleBreadcrumbs(props){return/*#__PURE__*/_jsxs(Breadcrumbs,{\"aria-label\":\"breadcrumb\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:props.classes.breadLink,color:\"inherit\",children:/*#__PURE__*/_jsx(Typography,{children:\"Home\"})}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:props.classes.breadLink,color:\"inherit\",children:/*#__PURE__*/_jsx(Typography,{children:\"Products\"})}),/*#__PURE__*/_jsx(Typography,{color:\"textPrimary\",children:props.value})]});}var useStyles=makeStyles(function(theme){return{images:{marginTop:'1rem'},content:{margin:'1rem 0',display:'flex',alignItems:'center',justifyContent:'center'},spacing:{margin:'0.2rem',padding:'0.6rem'},spacer:{marginLeft:'auto'},price:{width:'100%',padding:'1rem'},breadLink:{color:theme.palette.text.primary,textDecoration:'none'},buy:{marginBottom:'3rem'}};});function arrayRemove(arr,value){return arr.filter(function(ele){return ele!=value;});}var Product=function Product(props){var classes=useStyles();var _useContext=useContext(UserContext),_useContext2=_slicedToArray(_useContext,2),user=_useContext2[0],setUser=_useContext2[1];var _useContext3=useContext(ProductContext),_useContext4=_slicedToArray(_useContext3,2),products=_useContext4[0],setProducts=_useContext4[1];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),redirect=_useState2[0],setRedirect=_useState2[1];var params=props.match.params;var product=products[params.id];var _useState3=useState(user.cart.includes(product)),_useState4=_slicedToArray(_useState3,2),inCart=_useState4[0],setInCart=_useState4[1];var _useState5=useState(user.liked.includes(product)),_useState6=_slicedToArray(_useState5,2),inLiked=_useState6[0],setInLiked=_useState6[1];var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var handleCart=function handleCart(){var variant=inCart?'error':'success';var msg=inCart?'Product removed from cart.':'Product added to cart.';enqueueSnackbar(msg,{variant:variant});if(inCart){var newCart=arrayRemove(user.cart,product);setUser(function(prevUser){return _objectSpread(_objectSpread({},prevUser),{},{cart:newCart});});setInCart(false);}else{var _newCart=[].concat(_toConsumableArray(user.cart),[product]);setUser(function(prevUser){return _objectSpread(_objectSpread({},prevUser),{},{cart:_newCart});});setInCart(true);}};var alertUser=function alertUser(msg){var variant='error';enqueueSnackbar(msg,{variant:variant});};var doRedirect=function doRedirect(url){setRedirect(url);};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Paper,{square:true,elevation:0,children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsxs(Grid,{item:true,className:classes.spacing,xs:12,md:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:product.name}),/*#__PURE__*/_jsx(SimpleBreadcrumbs,{value:product.name,classes:classes}),/*#__PURE__*/_jsx(Grid,{item:true,xs:true,className:classes.images,children:/*#__PURE__*/_jsx(ImageSlider,{images:product.images})})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:5,className:classes.content,children:/*#__PURE__*/_jsx(Paper,{elevation:3,className:classes.price,children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,className:classes.buy,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",children:[product.price,\"$\"]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"p\",children:\"Ships to Croatia\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"p\",color:\"textSecondary\",children:\"In stock\"})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsxs(Button,{onClick:user.loggedIn?function(){return handleCart();}:function(){return doRedirect(\"/login\");},color:\"primary\",startIcon:/*#__PURE__*/_jsx(ShoppingCartIcon,{}),children:[inCart?'Remove from':'Add to',\" cart\"]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,align:\"right\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){alertUser(\"This feature is disabled.\");},variant:\"contained\",color:\"primary\",startIcon:/*#__PURE__*/_jsx(ShoppingBasketIcon,{}),className:classes.spacer,children:\"Buy now\"})})]})]})})}),/*#__PURE__*/_jsxs(Grid,{item:true,className:classes.spacing,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Description\"}),/*#__PURE__*/_jsx(Typography,{children:product.description})]}),product.table?/*#__PURE__*/_jsxs(Grid,{container:true,className:classes.spacing,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:\"Specifications\"}),/*#__PURE__*/_jsx(InfoTable,{rows:product.table})]}):'']})}),/*#__PURE__*/_jsx(Spacer,{}),redirect?/*#__PURE__*/_jsx(Redirect,{push:true,to:redirect}):'']});};export default withRouter(Product);","map":{"version":3,"sources":["/home/user/Desktop/Mislav_Breka_Midterm/src/Containers/Product/Product.js"],"names":["React","Component","useState","useContext","CustomCard","ItemsGrid","ProductContext","UserContext","Redirect","makeStyles","useTheme","MobileStepper","Paper","Typography","Button","KeyboardArrowLeft","KeyboardArrowRight","Grid","ImageSlider","Container","Breadcrumbs","Main","ShoppingCartIcon","ShoppingBasketIcon","ButtonGroup","InfoTable","Spacer","Link","withRouter","useLocation","TextField","CssBaseline","SnackbarProvider","useSnackbar","SimpleBreadcrumbs","props","classes","breadLink","value","useStyles","theme","images","marginTop","content","margin","display","alignItems","justifyContent","spacing","padding","spacer","marginLeft","price","width","color","palette","text","primary","textDecoration","buy","marginBottom","arrayRemove","arr","filter","ele","Product","user","setUser","products","setProducts","redirect","setRedirect","params","match","product","id","cart","includes","inCart","setInCart","liked","inLiked","setInLiked","enqueueSnackbar","handleCart","variant","msg","newCart","prevUser","alertUser","doRedirect","url","name","loggedIn","description","table"],"mappings":"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","sourcesContent":["import React, { Component, useState, useContext } from 'react';\nimport CustomCard from '../../Components/CustomCard/CustomCard';\nimport ItemsGrid from '../../Components/ItemsGrid/ItemsGrid';\nimport { ProductContext } from '../../Context/ProductContext/ProductContext';\nimport { UserContext } from '../../Context/UserContext/UserContext';\nimport { Redirect } from 'react-router-dom';\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport MobileStepper from '@material-ui/core/MobileStepper';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\nimport Grid from '@material-ui/core/Grid';\nimport ImageSlider from '../../Components/ImageSlider/ImageSlider';\nimport Container from '@material-ui/core/Container';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport Main from '../../Components/Main/Main';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\nimport { ButtonGroup } from 'reactstrap';\nimport InfoTable from '../../Components/InfoTable/InfoTable';\nimport Spacer from '../../Components/Spacer/Spacer';\nimport { Link, withRouter, useLocation } from \"react-router-dom\";\nimport { TextField, CssBaseline } from '@material-ui/core';\nimport { SnackbarProvider, useSnackbar } from 'notistack';\n\nfunction SimpleBreadcrumbs(props) {\n    return (\n        <Breadcrumbs aria-label=\"breadcrumb\">\n            <Link to=\"/\" className={props.classes.breadLink} color=\"inherit\">\n                <Typography>Home</Typography>\n\n            </Link>\n            <Link to=\"/products\" className={props.classes.breadLink} color=\"inherit\">\n                <Typography>Products</Typography>\n            </Link>\n            <Typography color=\"textPrimary\">{props.value}</Typography>\n        </Breadcrumbs>\n    );\n}\n\nconst useStyles = makeStyles((theme) => ({\n    images: {\n        marginTop: '1rem',\n    },\n    content: {\n        margin: '1rem 0',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    spacing: {\n        margin: '0.2rem',\n        padding: '0.6rem',\n    },\n    spacer: {\n        marginLeft: 'auto',\n    },\n    price: {\n        width: '100%',\n        padding: '1rem',\n    },\n    breadLink: {\n        color: theme.palette.text.primary,\n        textDecoration: 'none',\n    },\n    buy: {\n        marginBottom: '3rem',\n    },\n}));\n\nfunction arrayRemove(arr, value) {\n    return arr.filter(function (ele) {\n        return ele != value;\n    });\n}\n\nconst Product = (props) => {\n    const classes = useStyles();\n    const [user, setUser] = useContext(UserContext);\n    const [products, setProducts] = useContext(ProductContext);\n    const [redirect, setRedirect] = useState('');\n\n    const { params } = props.match;\n    const product = products[params.id];\n\n    const [inCart, setInCart] = useState(user.cart.includes(product));\n    const [inLiked, setInLiked] = useState(user.liked.includes(product));\n    \n    const { enqueueSnackbar } = useSnackbar();\n\n    \n\n    const handleCart = () => {\n        const variant = inCart ? 'error' : 'success';\n        const msg = inCart ? 'Product removed from cart.' : 'Product added to cart.';\n        enqueueSnackbar(msg, { variant });\n        if (inCart) {\n            const newCart = arrayRemove(user.cart, product);\n            setUser(prevUser => ({\n                ...prevUser,\n                cart: newCart,\n            }));\n            setInCart(false);\n        } else {\n            const newCart = [...user.cart, product];\n            setUser(prevUser => ({\n                ...prevUser,\n                cart: newCart,\n            }));\n            setInCart(true);\n        }\n    }\n\n    const alertUser = (msg) => {\n        const variant = 'error';\n        enqueueSnackbar(msg, { variant });\n    }\n\n    const doRedirect = (url) => {\n        setRedirect(url);\n    };\n\n\n    return (\n        <Container maxWidth='md'>\n            <CssBaseline />\n            <Paper square elevation={0}>\n                <Grid container>\n                    <Grid item className={classes.spacing} xs={12} md={6}>\n                        <Typography variant='h4' >{product.name}</Typography>\n                        <SimpleBreadcrumbs value={product.name} classes={classes} />\n                        <Grid item xs className={classes.images}>\n                            <ImageSlider images={product.images} />\n                        </Grid>\n                    </Grid>\n                    <Grid item xs={12} md={5} className={classes.content}>\n                        <Paper elevation={3} className={classes.price}>\n                            <Grid container>\n                                <Grid container className={classes.buy}>\n                                    <Grid item xs={12}>\n                                        <Typography variant='h5'>\n                                            {product.price}$\n                                    </Typography>\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                        <Typography variant='p'>\n                                            Ships to Croatia\n                                    </Typography>\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                        <Typography variant='p' color='textSecondary'>\n                                            In stock\n                                    </Typography>\n                                    </Grid>\n                                </Grid>\n                                <Grid container >\n                                    <Grid item xs={6}>\n                                        <Button\n                                            onClick={user.loggedIn ? (() => handleCart()) : (() => doRedirect(\"/login\"))}\n                                            color=\"primary\"\n                                            startIcon={<ShoppingCartIcon />}\n                                        >{inCart?'Remove from':'Add to'} cart</Button>\n                                    </Grid>\n                                    <Grid item xs={6} align='right'>\n                                        <Button\n                                            onClick={()=>{alertUser(\"This feature is disabled.\")}}\n                                            variant=\"contained\"\n                                            color=\"primary\"\n                                            startIcon={<ShoppingBasketIcon />}\n                                            className={classes.spacer}\n                                        >Buy now</Button>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </Paper>\n                    </Grid>\n                    <Grid item className={classes.spacing}>\n                        <Typography variant='h5'>\n                            Description\n                        </Typography>\n                        <Typography>{product.description}</Typography>\n                    </Grid>\n\n                    {\n                        product.table ?\n                            <Grid container className={classes.spacing}>\n                                <Typography variant='h5'>Specifications</Typography>\n                                <InfoTable rows={product.table} />\n                            </Grid>\n                            : ''\n                    }\n                </Grid>\n            </Paper>\n            <Spacer />\n            {redirect ? (<Redirect push to={redirect} />) : ''}\n        </Container>\n    );\n}\n\nexport default withRouter(Product);"]},"metadata":{},"sourceType":"module"}