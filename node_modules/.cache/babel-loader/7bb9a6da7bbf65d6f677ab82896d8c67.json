{"ast":null,"code":"import _toConsumableArray from\"/home/user/Desktop/Mislav_Breka_Midterm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/user/Desktop/Mislav_Breka_Midterm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/user/Desktop/Mislav_Breka_Midterm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,forwardRef,useRef,useImperativeHandle}from'react';import{Redirect}from'react-router-dom';import{makeStyles,withStyles}from'@material-ui/core/styles';import Card from'@material-ui/core/Card';import CardActions from'@material-ui/core/CardActions';import CardContent from'@material-ui/core/CardContent';import FavoriteIcon from'@material-ui/icons/Favorite';import ShareIcon from'@material-ui/icons/Share';import IconButton from'@material-ui/core/IconButton';import Typography from'@material-ui/core/Typography';import Grid from'@material-ui/core/Grid';import Rating from'@material-ui/lab/Rating';import Button from'@material-ui/core/Button';import Snackbar from'@material-ui/core/Snackbar';import CloseIcon from'@material-ui/icons/Close';import{UserContext}from'../../Context/UserContext/UserContext';import Share from'../../Components/Share/Share';import ShoppingCartIcon from'@material-ui/icons/ShoppingCart';import Badge from'@material-ui/core/Badge';import Tooltip from'@material-ui/core/Tooltip';import MuiAlert from'@material-ui/lab/Alert';import Paper from'@material-ui/core/Paper';import{SnackbarProvider,useSnackbar}from'notistack';import{Container}from'@material-ui/core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles({root:{width:'100%',maxWidth:'400px',transition:'all 200ms'},bullet:{display:'inline-block',transform:'scale(0.8)'},image:{maxWidth:'100%'},content:{paddingBottom:0,'&:hover':{cursor:'pointer'}},liked:{color:'#ff6d75'},incart:{color:'#ff6d75'},title:{backgroundColor:'blue'},rating:{backgroundColor:'blue'},img:{backgroundColor:'blue'},price:{backgroundColor:'blue'},imageContainer:{padding:\"0 1rem 0 0\",overflow:'hidden',width:\"10rem\"}});function arrayRemove(arr,value){return arr.filter(function(ele){return ele!=value;});}function ProductCard(props){var classes=useStyles();var _useContext=useContext(UserContext),_useContext2=_slicedToArray(_useContext,2),user=_useContext2[0],setUser=_useContext2[1];var _useState=useState(user.cart.includes(props.product)),_useState2=_slicedToArray(_useState,2),inCart=_useState2[0],setInCart=_useState2[1];var _useState3=useState(user.liked.includes(props.product)),_useState4=_slicedToArray(_useState3,2),inLiked=_useState4[0],setInLiked=_useState4[1];var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),redirect=_useState6[0],setRedirect=_useState6[1];var handleLike=function handleLike(){// SNACK\nvar variant=inLiked?'error':'success';var msg=inLiked?'Product removed from liked.':'Product added to liked.';enqueueSnackbar(msg,{variant:variant});if(inLiked){var newLiked=arrayRemove(user.liked,props.product);setUser(function(prevUser){return _objectSpread(_objectSpread({},prevUser),{},{liked:newLiked});});setInLiked(false);}else{var _newLiked=[].concat(_toConsumableArray(user.liked),[props.product]);setUser(function(prevUser){return _objectSpread(_objectSpread({},prevUser),{},{liked:_newLiked});});setInLiked(true);}};var doRedirect=function doRedirect(url){setRedirect(url);};var handleCart=function handleCart(){// SNACK\nvar variant=inCart?'error':'success';var msg=inCart?'Product removed from cart.':'Product added to cart.';enqueueSnackbar(msg,{variant:variant});if(inCart){var newCart=arrayRemove(user.cart,props.product);setUser(function(prevUser){return _objectSpread(_objectSpread({},prevUser),{},{cart:newCart});});setInCart(false);}else{var _newCart=[].concat(_toConsumableArray(user.cart),[props.product]);setUser(function(prevUser){return _objectSpread(_objectSpread({},prevUser),{},{cart:_newCart});});setInCart(true);}};var childRef=useRef();return/*#__PURE__*/_jsx(Card,{className:classes.root,children:/*#__PURE__*/_jsxs(Paper,{elevation:3,children:[/*#__PURE__*/_jsx(CardContent,{className:classes.content,children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true,onClick:function onClick(){doRedirect(\"/product/\"+props.product.id);},children:/*#__PURE__*/_jsx(Container,{className:classes.imageContainer,children:/*#__PURE__*/_jsx(\"img\",{src:props.product.images[0],className:classes.image,alt:\"\"})})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:true,align:\"left\",children:[/*#__PURE__*/_jsx(Grid,{item:true,onClick:function onClick(){doRedirect(\"/product/\"+props.product.id);},children:props.product.name}),/*#__PURE__*/_jsx(Grid,{children:/*#__PURE__*/_jsx(Rating,{name:\"customized-color\",value:props.product.rating,getLabelText:function getLabelText(value){return\"\".concat(value,\" Heart\").concat(value!==1?'s':'');},precision:0.5,size:\"small\",disabled:true})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[props.product.price,\" $\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Grid,{item:true,align:\"right\",children:[/*#__PURE__*/_jsx(Tooltip,{title:inCart?\"Remove from cart\":\"Add to cart\",\"aria-label\":\"add\",children:/*#__PURE__*/_jsx(IconButton,{onClick:user.loggedIn?function(){return handleCart();}:function(){return doRedirect(\"/login\");},children:/*#__PURE__*/_jsx(Badge,{color:\"secondary\",variant:\"dot\",invisible:!inCart,children:/*#__PURE__*/_jsx(ShoppingCartIcon,{})})})}),/*#__PURE__*/_jsx(Tooltip,{title:inLiked?\"Remove from liked\":\"Add to liked\",\"aria-label\":\"add\",children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"add to favorites\",onClick:user.loggedIn?function(){return handleLike();}:function(){return doRedirect(\"/login\");},children:/*#__PURE__*/_jsx(FavoriteIcon,{className:inLiked?classes.liked:''})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"Share\",\"aria-label\":\"add\",children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"share\",onClick:function onClick(){childRef.current.showAlert();},children:/*#__PURE__*/_jsx(ShareIcon,{})})})]})]})]})}),redirect?/*#__PURE__*/_jsx(Redirect,{push:true,to:redirect}):'',/*#__PURE__*/_jsx(Share,{ref:childRef,id:props.product.id})]})});};export default ProductCard;","map":{"version":3,"sources":["/home/user/Desktop/Mislav_Breka_Midterm/src/Components/ProductCard/ProductCard.js"],"names":["React","useState","useContext","forwardRef","useRef","useImperativeHandle","Redirect","makeStyles","withStyles","Card","CardActions","CardContent","FavoriteIcon","ShareIcon","IconButton","Typography","Grid","Rating","Button","Snackbar","CloseIcon","UserContext","Share","ShoppingCartIcon","Badge","Tooltip","MuiAlert","Paper","SnackbarProvider","useSnackbar","Container","useStyles","root","width","maxWidth","transition","bullet","display","transform","image","content","paddingBottom","cursor","liked","color","incart","title","backgroundColor","rating","img","price","imageContainer","padding","overflow","arrayRemove","arr","value","filter","ele","ProductCard","props","classes","user","setUser","cart","includes","product","inCart","setInCart","inLiked","setInLiked","enqueueSnackbar","redirect","setRedirect","handleLike","variant","msg","newLiked","prevUser","doRedirect","url","handleCart","newCart","childRef","id","images","name","loggedIn","current","showAlert"],"mappings":"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","sourcesContent":["import React, { useState, useContext, forwardRef, useRef, useImperativeHandle } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ShareIcon from '@material-ui/icons/Share';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Rating from '@material-ui/lab/Rating';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { UserContext } from '../../Context/UserContext/UserContext';\nimport Share from '../../Components/Share/Share';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport Badge from '@material-ui/core/Badge';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Paper from '@material-ui/core/Paper';\n\nimport { SnackbarProvider, useSnackbar } from 'notistack';\nimport { Container } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100%',\n        maxWidth: '400px',\n        transition: 'all 200ms',\n    },\n    bullet: {\n        display: 'inline-block',\n        transform: 'scale(0.8)',\n    },\n    image: {\n        maxWidth: '100%',\n\n    },\n    content: {\n        paddingBottom: 0,\n        '&:hover': {\n            cursor: 'pointer',\n        },\n    },\n    liked: {\n        color: '#ff6d75',\n    },\n    incart: {\n        color: '#ff6d75',\n    },\n    title: {\n        backgroundColor: 'blue',\n    },\n    rating: {\n        backgroundColor: 'blue',\n    },\n    img: {\n        backgroundColor: 'blue',\n    },\n    price: {\n        backgroundColor: 'blue',\n    },\n    imageContainer: {\n        padding: \"0 1rem 0 0\",\n        overflow: 'hidden',\n        width: \"10rem\",\n        \n    }\n});\n\nfunction arrayRemove(arr, value) {\n    return arr.filter(function (ele) {\n        return ele != value;\n    });\n}\n\nfunction ProductCard(props) {\n    const classes = useStyles();\n    const [user, setUser] = useContext(UserContext);\n    const [inCart, setInCart] = useState(user.cart.includes(props.product));\n    const [inLiked, setInLiked] = useState(user.liked.includes(props.product));\n    const { enqueueSnackbar } = useSnackbar();\n\n\n    const [redirect, setRedirect] = useState('');\n\n    const handleLike = () => {\n        // SNACK\n        const variant = inLiked ? 'error' : 'success';\n        const msg = inLiked ? 'Product removed from liked.' : 'Product added to liked.';\n        enqueueSnackbar(msg, { variant });\n        if (inLiked) {\n            const newLiked = arrayRemove(user.liked, props.product);\n            setUser(prevUser => ({\n                ...prevUser,\n                liked: newLiked,\n            }));\n            setInLiked(false);\n        } else {\n            const newLiked = [...user.liked, props.product];\n            setUser(prevUser => ({\n                ...prevUser,\n                liked: newLiked,\n            }));\n            setInLiked(true);\n        }\n    };\n\n\n    const doRedirect = (url) => {\n        setRedirect(url);\n    };\n\n    const handleCart = () => {\n        // SNACK\n        const variant = inCart ? 'error' : 'success';\n        const msg = inCart ? 'Product removed from cart.' : 'Product added to cart.';\n        enqueueSnackbar(msg, { variant });\n        if (inCart) {\n            const newCart = arrayRemove(user.cart, props.product);\n            setUser(prevUser => ({\n                ...prevUser,\n                cart: newCart,\n            }));\n            setInCart(false);\n        } else {\n            const newCart = [...user.cart, props.product];\n            setUser(prevUser => ({\n                ...prevUser,\n                cart: newCart,\n            }));\n            setInCart(true);\n        }\n    };\n\n    const childRef = useRef();\n\n\n    return (\n        <Card className={classes.root}>\n            <Paper elevation={3}>\n                <CardContent className={classes.content} >\n                    <Grid container>\n                        <Grid item xs onClick={() => { doRedirect(\"/product/\" + props.product.id) }}>\n                            <Container className={classes.imageContainer}>\n                                <img src={props.product.images[0]} className={classes.image} alt=\"\" />\n                            </Container>\n\n                        </Grid>\n                        <Grid item xs align=\"left\">\n                            <Grid item onClick={() => { doRedirect(\"/product/\" + props.product.id) }}>\n                                {props.product.name}\n                            </Grid>\n                            <Grid>\n                                <Rating\n                                    name=\"customized-color\"\n                                    value={props.product.rating}\n                                    getLabelText={(value) => `${value} Heart${value !== 1 ? 's' : ''}`}\n                                    precision={0.5}\n                                    size='small'\n                                    disabled\n                                />\n                            </Grid>\n                            <br />\n                            <Grid item >\n                                {props.product.price} $\n                </Grid>\n                <br />   \n                            <Grid item align=\"right\">\n\n                                <Tooltip title={inCart ? \"Remove from cart\" : \"Add to cart\"} aria-label=\"add\">\n                                    <IconButton\n                                        onClick={user.loggedIn ? (() => handleCart()) : (() => doRedirect(\"/login\"))}\n                                    >\n                                        <Badge color=\"secondary\" variant=\"dot\" invisible={!inCart}>\n                                            <ShoppingCartIcon />\n                                        </Badge>\n                                    </IconButton>\n                                </Tooltip>\n                                <Tooltip title={inLiked ? \"Remove from liked\" : \"Add to liked\"} aria-label=\"add\">\n\n                                    <IconButton\n                                        aria-label=\"add to favorites\"\n                                        onClick={user.loggedIn ? (() => handleLike()) : (() => doRedirect(\"/login\"))}\n                                    >\n                                        <FavoriteIcon className={inLiked ? classes.liked : ''} />\n                                    </IconButton>\n                                </Tooltip>\n                                <Tooltip title=\"Share\" aria-label=\"add\">\n\n                                    <IconButton aria-label=\"share\" onClick={() => { childRef.current.showAlert() }}>\n                                        <ShareIcon />\n                                    </IconButton>\n                                </Tooltip>\n                            </Grid>\n                           \n                        </Grid>\n                    </Grid>\n                </CardContent>\n\n                {redirect ? (<Redirect push to={redirect} />) : ''}\n                <Share ref={childRef} id={props.product.id} />\n            </Paper>\n\n        </Card>\n    );\n};\n\nexport default ProductCard;"]},"metadata":{},"sourceType":"module"}