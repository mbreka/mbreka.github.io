{"ast":null,"code":"import _objectSpread from\"/home/user/Desktop/Mislav_Breka_Midterm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/user/Desktop/Mislav_Breka_Midterm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{UserContext}from'../../Context/UserContext/UserContext';import CustomCard from'../../Components/CustomCard/CustomCard';import Container from'@material-ui/core/Container';import Grid from'@material-ui/core/Grid';import{fade,makeStyles,withStyles}from'@material-ui/core/styles';import InfoTable from'../../Components/InfoTable/InfoTable';import Typography from'@material-ui/core/Typography';import Button from'@material-ui/core/Button';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import{Link,withRouter,useLocation}from\"react-router-dom\";import{SnackbarProvider,useSnackbar}from'notistack';import{CssBaseline}from'@material-ui/core';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{display:'grid',alignItems:'center',height:'80vh'},paper:{padding:'2rem 1rem 1rem 1rem'},table:{minWidth:300},listItem:{padding:theme.spacing(1,0)},total:{fontWeight:700},title:{marginTop:theme.spacing(2)},noDecoration:{textDecoration:'none',color:theme.palette.text.primary}};});function calcTotalPrice(products){var total=0;console.log(\"AAAA\");for(var i=0;i<products.length;i++){total+=products[i].price;console.log(total);}return total;}function arrayRemove(arr,value){return arr.filter(function(ele){return ele!=value;});}var Cart=function Cart(props){var classes=useStyles();var _useContext=useContext(UserContext),_useContext2=_slicedToArray(_useContext,2),user=_useContext2[0],setUser=_useContext2[1];var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var handleCart=function handleCart(product){var variant='success';var msg='Product removed from cart.';enqueueSnackbar(msg,{variant:variant});var newCart=arrayRemove(user.cart,product);setUser(function(prevUser){return _objectSpread(_objectSpread({},prevUser),{},{cart:newCart});});};var alertUser=function alertUser(msg){var variant='error';enqueueSnackbar(msg,{variant:variant});};return/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",className:classes.root,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Paper,{className:classes.paper,children:user.cart.length>0?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",className:classes.total,gutterBottom:true,children:\"Order summary\"}),/*#__PURE__*/_jsxs(List,{disablePadding:true,children:[user.cart.map(function(product){return/*#__PURE__*/_jsxs(ListItem,{className:classes.listItem,children:[/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsx(Link,{className:classes.noDecoration,to:'/product/'+product.id,children:product.name}),secondary:/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"secondary\",onClick:function onClick(){handleCart(product);},children:\"REMOVE\"})}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[\"$ \",product.price]})]},product.name);}),/*#__PURE__*/_jsxs(ListItem,{className:classes.listItem,children:[/*#__PURE__*/_jsx(ListItemText,{primary:\"Total:\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",className:classes.total,children:[\"$ \",calcTotalPrice(user.cart)]})]})]}),/*#__PURE__*/_jsx(Grid,{item:true,align:\"right\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){alertUser(\"This feature is disabled.\");},variant:\"contained\",color:\"primary\",children:\"Proceed to checkout\"})})]}):/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,children:\"Your cart is empty. Please add something to your cart first.\"}),/*#__PURE__*/_jsx(Grid,{item:true,align:\"right\",children:/*#__PURE__*/_jsx(Link,{to:\"/products\",className:classes.noDecoration,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",children:\"Go to products\"})})})]})})]});};export default withRouter(Cart);","map":{"version":3,"sources":["/home/user/Desktop/Mislav_Breka_Midterm/src/Containers/Cart/Cart.js"],"names":["React","useContext","useState","UserContext","CustomCard","Container","Grid","fade","makeStyles","withStyles","InfoTable","Typography","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","List","ListItem","ListItemText","Link","withRouter","useLocation","SnackbarProvider","useSnackbar","CssBaseline","useStyles","theme","root","display","alignItems","height","paper","padding","table","minWidth","listItem","spacing","total","fontWeight","title","marginTop","noDecoration","textDecoration","color","palette","text","primary","calcTotalPrice","products","console","log","i","length","price","arrayRemove","arr","value","filter","ele","Cart","props","classes","user","setUser","enqueueSnackbar","handleCart","product","variant","msg","newCart","cart","prevUser","alertUser","map","id","name"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { UserContext } from '../../Context/UserContext/UserContext';\nimport CustomCard from '../../Components/CustomCard/CustomCard';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport { fade, makeStyles, withStyles } from '@material-ui/core/styles';\nimport InfoTable from '../../Components/InfoTable/InfoTable';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\n\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { Link, withRouter, useLocation } from \"react-router-dom\";\nimport { SnackbarProvider, useSnackbar } from 'notistack';\nimport { CssBaseline } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'grid',\n        alignItems: 'center',\n        height: '80vh',\n    },\n    paper: {\n        padding: '2rem 1rem 1rem 1rem',\n    },\n    table: {\n        minWidth: 300,\n    },\n    listItem: {\n        padding: theme.spacing(1, 0),\n    },\n    total: {\n        fontWeight: 700,\n    },\n    title: {\n        marginTop: theme.spacing(2),\n    },\n    noDecoration: {\n        textDecoration: 'none',\n        color: theme.palette.text.primary,\n    },\n}));\n\nfunction calcTotalPrice(products) {\n    var total = 0;\n    console.log(\"AAAA\");\n    for (var i = 0; i < products.length; i++) {\n        total += products[i].price;\n        console.log(total);\n    }\n    return total;\n}\n\nfunction arrayRemove(arr, value) {\n    return arr.filter(function (ele) {\n        return ele != value;\n    });\n}\n\n\nconst Cart = (props) => {\n    const classes = useStyles();\n    const [user, setUser] = useContext(UserContext);\n    const { enqueueSnackbar } = useSnackbar();\n\n    const handleCart = (product) => {\n        \n        const variant = 'success';\n        const msg = 'Product removed from cart.';\n        enqueueSnackbar(msg, { variant });\n\n        const newCart = arrayRemove(user.cart, product);\n        setUser(prevUser => ({\n            ...prevUser,\n            cart: newCart,\n        }));\n\n    };\n    \n    const alertUser = (msg) => {\n        const variant = 'error';\n        enqueueSnackbar(msg, { variant });\n    }\n    \n    return (\n        <Container maxWidth='md' className={classes.root}>\n<CssBaseline />\n            <Paper className={classes.paper}>\n                {user.cart.length > 0 ?\n\n                    <React.Fragment>\n                        <Typography variant=\"h6\" className={classes.total} gutterBottom>\n                            Order summary\n      </Typography>\n                        <List disablePadding>\n                            {user.cart.map((product) => (\n                                <ListItem className={classes.listItem} key={product.name}>\n                            <ListItemText primary={<Link className={classes.noDecoration} to={'/product/'+product.id}>{product.name}</Link>}\n                                    secondary={\n                                    <Button size='small' color=\"secondary\" onClick={() => { handleCart(product) }}>REMOVE</Button>\n                                    } />\n                                    <Typography variant=\"body2\">$ {product.price}</Typography>\n                                </ListItem>\n                            ))}\n                            <ListItem className={classes.listItem}>\n                                <ListItemText primary=\"Total:\" />\n                                <Typography variant=\"subtitle1\" className={classes.total}>\n                                    $ {calcTotalPrice(user.cart)}\n                                </Typography>\n                            </ListItem>\n                        </List>\n                        <Grid item align='right'>\n                            <Button onClick={()=>{alertUser(\"This feature is disabled.\")}} variant=\"contained\" color=\"primary\">Proceed to checkout</Button>\n                        </Grid>\n                    </React.Fragment>\n                    :\n                    <React.Fragment>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Your cart is empty. Please add something to your cart first.\n      </Typography>\n\n\n                        <Grid item align='right'>\n                            <Link to='/products' className={classes.noDecoration}>\n                                <Button variant=\"contained\" color=\"primary\">Go to products</Button>\n                            </Link>\n\n                        </Grid>\n                    </React.Fragment>\n\n                }\n\n            </Paper>\n        </Container>\n    );\n}\n\nexport default withRouter(Cart);"]},"metadata":{},"sourceType":"module"}